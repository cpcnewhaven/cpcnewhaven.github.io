<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async
            src="https://www.googletagmanager.com/gtag/js?id=G-TL0WH5R1EK"></script>
        <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TL0WH5R1EK');
</script>
        <link rel="icon"
            href="https://storage.googleapis.com/cpc-public-website/web-assets/CPC%20-%20FAVICON%20-%20FALL%2024.png"
            type="image/png">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description"
            content="CPC New Haven Church - 135 Whitney Ave New Haven, CT. We are a church committed to serving and reaching the Greater New Haven area. Join us for worship and fellowship.">
        <meta name="keywords"
            content="CPC New Haven, Church, New Haven, CT, Worship, Fellowship">
        <meta name="author" content="CPC New Haven">
        <link rel="stylesheet" href="src/css/global-nav-bar.css">
        <title>Announcements | CPC New Haven Church</title>
        <link rel="stylesheet" href="./src/css/footer.css">
        <link rel="stylesheet" href="./src/css/global-body.css">
    <link rel="stylesheet" href="./src/css/global-footer-cta.css">
    <link rel="stylesheet" href="./src/css/highlights.css">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <!-- Cache clearing script - runs on every page load -->
        <script src="./src/js/clear-cache.js"></script>
    </head>
    <body>
        <nav class="main-navigation">
            <a href="index.html">Home</a>
            <a href="sundays.html">Sundays</a>
            <a href="about.html">About</a>
            <a href="podcasts.html">Podcasts</a>
            <a href="events.html">Events</a>
            <a href="community.html">Community</a>
            <a href="live.html">Live</a>
            <a href="resources.html">Resources</a>
            <a href="give.html">Give</a>
          </nav>
        </header>
    
        <!-- MOBILE HAMBURGER-->
        <div class="hamburger-menu-button-container" id="hamburgerMenu">
          <i id="closeMobileMenuButton" class="fas fa-bars"></i>
        </div>
    
        <!-- Mobile Navigation -->
        <nav class="mobile-navigation" id="mobileNavigation">
          <div class="mobile-nav-header">
            <button id="closeMenuButton" aria-label="Close menu">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <ul class="mobile-nav-links">
            <li><a class="mobile-menu-link" href="index.html">Home</a></li>
            <li><a class="mobile-menu-link" href="sundays.html">Sundays</a></li>
            <li><a class="mobile-menu-link" href="about.html">About</a></li>
            <li><a class="mobile-menu-link" href="podcasts.html">Podcasts</a></li>
    
            <li>
              <a class="mobile-menu-link"
                href="announcements.html">Announcements</a>
            </li>
            <li><a class="mobile-menu-link" href="community.html">Community</a></li>
            <li><a class="mobile-menu-link" href="live.html">Live</a></li>
            <li><a class="mobile-menu-link" href="resources.html">Resources</a></li>
            <li><a class="mobile-menu-link" href="give.html">Give</a></li>
          </ul>
        </nav>
    <div x-data="{ 
        images: [
       
           
            'https://storage.googleapis.com/cpc-public-website/web-assets/heros/%5BHERO%5D%5BComm%7D6.jpg',
            'https://storage.googleapis.com/cpc-public-website/web-assets/heros/%5BHERO%5D%5BComm%7D5.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/2.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/3.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/4.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/5.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/6.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/7.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/8.jpg',
            'https://storage.googleapis.com/cpc-public-website/events/Young%20Adults%20Cookout%20-%20September%202025/9.jpg'
        ],
        currentIndex: 0,
        shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    }" 
    x-init="
        images = shuffleArray(images);
        setInterval(() => { currentIndex = (currentIndex + 1) % images.length }, 5000)
    "
    class="splash-hero--events parallax-hero"
    :style="`background-image: url('${images[currentIndex]}')`">
        <h1>Events and Announcements</h1>
    </div>
    
        <style>
            /* moved to global-body.css: splash-hero--events and community calendar styles */
        </style>
    
<style>
            /* Featured Poster Widget */
            .featured-event-poster {
                padding: 30px 20px;
                display: flex;
                justify-content: center;
                align-items: center;
                background: #f8f9fa;
            }
            .featured-event-poster img.poster-img {
                width: 100%;
                max-width: 1000px;
                border-radius: 12px;
                box-shadow: 0 4px 16px rgba(0,0,0,0.15);
                display: block;
            }
            @media (max-width: 768px) {
                .featured-event-poster { padding: 20px 15px; }
            }

/* Highlights Section Styling */
.mid-splash-welcome.sticky {
    background: #f8f9fa;
    padding: 30px 20px;
    margin: 0;
}

.mid-splash-welcome .headline {
    text-align: center;
    font-size: 2.5em;
    margin: 0;
    color: #333;
}

#highlights {
    padding: 40px 20px;
    background: #f8f9fa;
}

.highlights-content {
    max-width: 800px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.highlight-card {
    background: white;
    border: 2px solid #e1e5e9;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    width: 100%;
    display: flex;
    flex-direction: column;
}

.highlight-card:hover {
    border-color: #0078D4;
    box-shadow: 0 4px 16px rgba(0, 120, 212, 0.1);
    transform: translateY(-2px);
}

.highlight-content {
    padding: 30px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.highlight-title {
    font-size: 1.4rem !important;
    color: #333;
    margin: 0 0 10px 0;
    font-weight: 600;
    text-align: center !important;
}

.highlight-description {
    font-size: 1rem;
    color: #666;
    line-height: 1.6;
    text-align: center;
}

.highlight-description p {
    margin-bottom: 10px;
}

.highlight-empty, .highlight-error {
    text-align: center;
    padding: 40px;
    color: #666;
    font-style: italic;
    grid-column: 1 / -1;
}

@media (max-width: 768px) {
    #highlights {
        padding: 30px 15px;
    }

    .highlights-content {
        gap: 20px;
    }

    .highlight-title {
        font-size: 1.2rem !important;
    }

    .mid-splash-welcome .headline {
        font-size: 2em;
    }
}
</style>




<!-- ONGOING EVENTS SECTION -->
<section class="ongoing-events-section">
    <div class="ongoing-events-container">
      <h2 style="text-align:center; font-size:2em; margin-bottom:30px; letter-spacing:1px; color:#0078D4;">Regular Schedule & Ongoing Events</h2>
      
      <div class="schedule-grid">
        <div class="schedule-card">
          <h3>Regular Sunday Schedule</h3>
          <div class="schedule-times">
            <div class="time-item">
              <span class="time">8:30am</span>
              <span class="activity">Prayer in the Parlor</span>
            </div>
            <div class="time-item">
              <span class="time">9:30am</span>
              <span class="activity">Children's Sunday School & Adult Sunday Studies</span>
            </div>
            <div class="time-item">
              <span class="time">10:30am</span>
              <span class="activity">Worship Service</span>
            </div>
            <div class="time-item">
              <span class="time">12:00pm</span>
              <span class="activity">Fellowship Lunch</span>
            </div>
          </div>
        </div>
        
        <div class="schedule-card">
          <h3>Children's Sunday School Locations</h3>
          <div class="class-locations">
            <div class="location-item">
              <span class="age">2yrs to Pre-K</span>
              <span class="location">Lower Level Classroom, Fellowship Hall</span>
            </div>
            <div class="location-item">
              <span class="age">Kindergarten & 1st Grade</span>
              <span class="location">Upper Floor Classroom</span>
            </div>
            <div class="location-item">
              <span class="age">2nd to 5th Grade</span>
              <span class="location">Main Floor Lecture Room</span>
            </div>
            <div class="location-item">
              <span class="age">6th & 7th Grade</span>
              <span class="location">Upper Floor Conference Room</span>
            </div>
            <div class="location-item">
              <span class="age">8th to 12th Grade</span>
              <span class="location">Upper Floor Youth Room</span>
            </div>
          </div>
        </div>
        
      
      <div class="ongoing-events-list">
        <h3 style="text-align:left; margin:40px 0 20px 0; color:#333;">Ongoing Events</h3>
        <div class="ongoing-item">
          <div class="ongoing-title">Pastor Drop-In Office Hours</div>
          <div class="ongoing-details">Starting September 12 | Pastor Craig, Fridays 7:30am-10:30am | Other hours available upon request</div>
        </div>
        <div class="ongoing-item">
          <div class="ongoing-title">Women's Discipleship Group</div>
          <div class="ongoing-details">Meeting Mondays Sept 22, Oct 20, Nov 17 | CPC Parlor Room at 7PM</div>
        </div>
        <div class="ongoing-item">
          <div class="ongoing-title">Mom's Discipleship Group</div>
          <div class="ongoing-details">We are reading Walking With God in the Season of Motherhood, by Melissa Krueger. New people are most welcome and it is easy to join our discussion without having read prior chapters. Meeting Mondays Sept 22, Oct 20, Nov 17 | CPC Parlor Room at 7PM. For more information, contact Estela Gierbolini Norat (egierbo1@gmail.com) or Meg Bogue (mhbogue@me.co)</div>
        </div>
      </div>
    </div>
  </section>


<section id="highlights">
  <div class="highlights-content">
    <!-- Highlights will be populated here by the JavaScript -->
  </div>
</section>

<section id="community-calendar">
    <h1>CPC Community Calendar</h1>
    <hr>
    <iframe src="https://calendar.google.com/calendar/embed?src=baf2h147ghi7nu8ifijjrt994k%40group.calendar.google.com&ctz=America%2FNew_York" style="border: 0" width="100%" height="320px" frameborder="0" scrolling="no"></iframe>
</section>


<style>
.fall-events-section {
  padding: 40px 20px;
  max-width: 800px;
  margin: 0 auto;
}

.fall-events-list {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.fall-event-item {
  display: flex;
  align-items: flex-start;
  padding: 20px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #0078D4;
  transition: box-shadow 0.3s ease, transform 0.2s ease;
}

.fall-event-item:hover {
  box-shadow: 0 4px 16px rgba(0,120,212,0.15);
  transform: translateY(-2px);
}

.highlight-event {
  border-left: 4px solid #ff6b35;
  background: linear-gradient(135deg, #fff 0%, #fff8f5 100%);
}

.highlight-event .event-date {
  background: #ff6b35;
}

.event-date {
  background: #0078D4;
  color: #fff;
  font-weight: bold;
  font-size: 1.1em;
  border-radius: 8px;
  padding: 12px 16px;
  margin-right: 20px;
  min-width: 120px;
  text-align: center;
  flex-shrink: 0;
}

.event-info h3 {
  margin: 0 0 8px 0;
  font-size: 1.2em;
  color: #333;
  font-weight: 600;
}

.event-info p {
  margin: 0;
  color: #666;
  font-size: 1em;
  line-height: 1.5;
}

@media (max-width: 768px) {
  .fall-event-item {
    flex-direction: column;
    text-align: center;
  }
  
  .event-date {
    margin-right: 0;
    margin-bottom: 15px;
    align-self: center;
  }
  
  .fall-events-section {
    padding: 20px 15px;
  }
  }
</style>



<style>
.ongoing-events-section {
  padding: 60px 20px;
  background: #f8f9fa;
  margin: 40px 0;
}

.ongoing-events-container {
  max-width: 1000px;
  margin: 0 auto;
}

.schedule-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 30px;
  margin-bottom: 40px;
}

.schedule-card {
  background: white;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  border-left: 4px solid #0078D4;
}

.schedule-card h3 {
  margin: 0 0 20px 0;
  color: #333;
  font-size: 1.3em;
  font-weight: 600;
}

.time-item, .location-item {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 8px 0;
  border-bottom: 1px solid #eee;
}

.time-item:last-child, .location-item:last-child {
  border-bottom: none;
}

.time {
  font-weight: bold;
  color: #0078D4;
  min-width: 80px;
  margin-right: 15px;
}

.age {
  font-weight: bold;
  color: #0078D4;
  min-width: 120px;
  margin-right: 15px;
}

.activity, .location {
  color: #666;
  flex: 1;
}

.study-info {
  text-align: center;
}

.study-info p {
  margin: 10px 0;
  color: #666;
}

.ongoing-events-list {
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.ongoing-item {
  padding: 15px 0;
  border-bottom: 1px solid #eee;
}

.ongoing-item:last-child {
  border-bottom: none;
}

.ongoing-title {
  font-weight: bold;
  color: #333;
  margin-bottom: 5px;
  font-size: 1.1em;
  text-align: left;
}

.ongoing-details {
  color: #666;
  font-size: 0.95em;
}

@media (max-width: 768px) {
  .schedule-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .time-item, .location-item {
    flex-direction: column;
    gap: 5px;
  }
  
  .time, .age {
    min-width: auto;
    margin-right: 0;
  }
}
</style>
    
<section class="youtube-video-section">
    <div class="video-container">
        <iframe 
            src="https://www.youtube.com/embed/nN_0zTD-OyU?si=L0ClaAWzKkZg41K3" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            referrerpolicy="strict-origin-when-cross-origin" 
            allowfullscreen>
        </iframe>
    </div>
</section>


    <!-- PAST EVENTS SECTION -->
    <section class="past-events-section">
        <div class="past-events-container">
            <h2 style="text-align:center; font-size:2em; margin-bottom:30px; letter-spacing:1px; color:#0078D4;">Past Events</h2>
            <p style="text-align:center; font-size:1.1em; color:#666; margin-bottom:40px; max-width:600px; margin-left:auto; margin-right:auto;">
                Take a look at some of our recent church events and community gatherings. These photos capture the fellowship, worship, and joy we share together as a church family.
            </p>
            <div id="events-gallery-container" class="gallery-grid">
                <!-- Event photos will be populated here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Lightbox for gallery images -->
    <div id="lightbox" style="display: none;">
        <img id="lightbox-img" src="" alt="">
    </div>

    <style>
        .past-events-section {
            padding: 60px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            margin: 40px 0;
        }

        .past-events-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gallery-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .gallery-image:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        #lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            cursor: pointer;
        }

        #lightbox-img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
        }

        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }

            .gallery-image {
                height: 200px;
            }
        }
    </style>




        <section class="general-announcements">
            <hr>
            <div class="book-pick-container">
                <h2>Pastor's Book Pick</h2>
                <div class="book-content">
                    <img
                        src="https://storage.googleapis.com/cpc-public-website/featuredIMGs/highlights/25.jpg"
                        alt="You Are Not Your Own Book Cover"
                        class="book-cover">
                    <div class="book-details">
                        <h3>You Are Not Your Own: Belonging to God in an Inhuman World</h3>
                        <p class="author">by Alan Noble</p>
                        <div class="book-description">
                            <p class="body-text">
                                This book examines many of the ways in which our culture reinforces the lie that we belong to ourselves, and then provides a road map to avoid falling into sinful traps. Written by English professor and PCA church member Alan Noble, it points out the cultural and technological habits we all form, and then encourages us to fight against them, armed with the gospel-centered truth that we actually belong to God.
                            </p>
                            <p class="body-text">
                                Noble is a clear and witty writer, with the ability to see through deeply ingrained sinful habits, giving us hope and liberation for a more godly lifestyle. Copies are in the foyer, please pay $ what you can.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <hr style="margin: 40px 0;">
            
            <div class="book-pick-container">
                <h2>Parent's Book Pick</h2>
                <div class="book-content">
                    <img
                        src="https://m.media-amazon.com/images/I/81QEQEL3K4L._SY522_.jpg"
                        alt="God Made Me for Worship Book Cover"
                        class="book-cover">
                    <div class="book-details">
                        <h3><a href="https://www.amazon.com/God-Made-Me-Worship-Understand/dp/1645070484/ref=sr_1_1?crid=2Y4FQJC7DG4UX&dib=eyJ2IjoiMSJ9.TlfbKYVwYD5sppqBAMy2Pw.0YuJpcva2aN8TVUJxct6qLZsIpUn1S5R4Niqi6ycVHw&dib_tag=se&keywords=God+Made+Me+for+Worship%3A+Helping+Children+Understand+Church+by+Jared+Kennedy&qid=1762094770&sprefix=god+made+me+for+worship+helping+children+understand+church+by+jared+kennedy%2Caps%2C292&sr=8-1" target="_blank" style="color: #0078D4; text-decoration: none;">God Made Me for Worship: Helping Children Understand Church</a></h3>
                        <p class="author">by Jared Kennedy</p>
                        <div class="book-description">
                            <p class="body-text">
                                Worship is what we were made for—and that includes our kids! Teaching them to sit through and take part in worship isn't always easy, but it's such a beautiful journey as we watch them grow in the same faith we hold dear.
                            </p>
                            <p class="body-text">
                                This is a great resource to help little ones see what's really happening during a church service.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <style>
            /* YouTube Video Section - Centered */
            .youtube-video-section {
                display: flex;
                justify-content: center;
                align-items: center;
                margin: 40px auto;
                padding: 0 20px;
            }
            
            .video-container {
                width: 100%;
                max-width: 800px;
                position: relative;
                padding-bottom: 56.25%; /* 16:9 aspect ratio */
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            }
            
            .video-container iframe {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: none;
            }
            
            /* Responsive adjustments */
            @media (max-width: 768px) {
                .youtube-video-section {
                    margin: 30px auto;
                    padding: 0 15px;
                }
                
                .video-container {
                    max-width: 100%;
                }
            }
            
            .book-pick-container {
                padding: 20px;
                margin: 20px auto;
                max-width: 1000px;
            }

            .book-pick-container h2 {
                text-align: center;
                margin-bottom: 30px;
                font-size: 2em;
            }

            .book-content {
                display: flex;
                gap: 30px;
                align-items: flex-start;
            }

            .book-cover {
                width: 100%;
                max-width: 300px;
                height: auto;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }

            .book-details {
                flex: 1;
            }

            .book-details h3 {
                margin: 0 0 10px 0;
                font-size: 1.4em;
                color: #333;
            }

            .author {
                font-style: italic;
                color: #666;
                margin-bottom: 20px;
            }

            .book-description {
                line-height: 1.6;
            }

            @media (max-width: 768px) {
                .book-content {
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                }

                .book-cover {
                    margin-bottom: 20px;
                }

                .book-pick-container {
                    padding: 15px;
                }

                .book-details h3 {
                    font-size: 1.2em;
                }
            }
        </style>
        <hr>

        <section id="footer-cta-a" class="styled-section-a">
            <div class="form-container">
                <h2>Subscribe to our Newsletter</h2>
                <p class="body-text ">Our weekly newsletter goes out on
                    Friday
                    mornings with
                    Sunday Service information, highlights, upcoming events,
                    and
                    useful links.</p>
                <form action="https://formspree.io/f/meojowwg" method="POST"
                    class="neumorphic-form">
                    <input type="text" name="name" placeholder="Your name"
                        required>
                    <!-- Added name input -->
                    <input type="email" name="email"
                        placeholder="Your email"
                        required>
                    <button type="submit">Subscribe to CPC New
                        Haven</button>
                </form>
            </div>
        </section>
    <footer>
      <div class="footer-content-logo">
        <a href="index.html">
          <img src="./assets/CPC_LOGO_24.png" alt="CPC New Haven Church"
            class="top-splash-logo" loading="lazy" decoding="async">
        </a></div>
      <p>Join us for worship and fellowship. <a href="sundays.html">Learn
          more</a></p>

      <p>203.777.6960 | <a
          href="mailto:admin@cpcnewhaven.org">admin@cpcnewhaven.org</a>
        | 135 Whitney Ave. New Haven CT 06510</p>
      <p><a href="contact.html">Contact Us</a> | <a href="https://www.cpcnewhaven.org/" target="_blank" rel="noopener">Visit Our Old Website</a></p>
      <p><a href="https://open.spotify.com/show/22kjUJyC0VH3cMfCSe9kEk?si=7081d23d84be4812" target="_blank" rel="noopener">Listen to CPC New Haven Podcasts on Spotify</a></p>
      <p>© 2025 Christ Presbyterian Church.</p>

    </footer>

        <!-- EVENTS GALLERY SCRIPT -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                // Featured Christmas Drama poster from highlights.json
                fetch('data/announcements/highlights.json')
                    .then(r => r.json())
                    .then(json => {
                        const item = (json.announcements || []).find(a => a.id === '2025-052' && a.active === 'true');
                        const container = document.getElementById('featured-event');
                        if (item && item.featuredImage && container) {
                            const img = document.createElement('img');
                            img.src = item.featuredImage;
                            img.alt = item.title || 'Featured Event';
                            img.className = 'poster-img';
                            container.appendChild(img);
                        }
                    })
                    .catch(()=>{});

                fetch('data/image-gallery.json')
                    .then(response => response.json())
                    .then(data => {
                        const eventsGalleryContainer = document.getElementById('events-gallery-container');
                        const lightbox = document.getElementById('lightbox');
                        const lightboxImg = document.getElementById('lightbox-img');

                        // Filter for event images and misc event images
                        const eventImages = data.images.filter(image => 
                            image.event === true || 
                            (image.id && image.id.includes('misc') && image.id.includes('event'))
                        );

                        eventImages.forEach(image => {
                            const imgElement = document.createElement('img');
                            imgElement.src = image.url;
                            imgElement.alt = image.name;
                            imgElement.classList.add('gallery-image');

                            imgElement.addEventListener('click', () => {
                                lightbox.style.display = 'flex';
                                lightboxImg.src = image.url;
                                lightboxImg.alt = image.name;
                            });

                            eventsGalleryContainer.appendChild(imgElement);
                        });

                        // Close lightbox when clicking outside the image
                        lightbox.addEventListener('click', (e) => {
                            if (e.target !== lightboxImg) {
                                lightbox.style.display = 'none';
                            }
                        });

                        // Close lightbox with Escape key
                        document.addEventListener('keydown', (e) => {
                            if (e.key === 'Escape' && lightbox.style.display === 'flex') {
                                lightbox.style.display = 'none';
                            }
                        });
                    })
                    .catch(error => console.error('Error loading gallery data:', error));
            });
        </script>

        <!-- DYNAMIC ANNOUNCEMNTS -->
        <script src="./src/js/populate-navigation.js"></script>
        <script src="./src/js/highlights.js"></script>
        <script src="./src/js/function_toggle_mobileMenu.js"></script>
        
        <script>
            // Enhanced parallax scrolling effect
            function handleParallax() {
                const hero = document.querySelector('.splash-hero--events');
                if (hero && window.innerWidth > 768) {
                    const scrolled = window.pageYOffset;
                    const rate = scrolled * -0.5;
                    hero.style.backgroundPositionY = rate + 'px';
                }
            }
            
            // Throttle scroll events for better performance
            let ticking = false;
            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(handleParallax);
                    ticking = true;
                }
            }
            
            // Add scroll event listener
            window.addEventListener('scroll', requestTick, { passive: true });
            
            // Initial call
            handleParallax();
        </script>

        <!-- FILTER PAST EVENTS SCRIPT -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                // Get today's date
                const today = new Date();
                today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison
                
                // Get all event items
                const eventItems = document.querySelectorAll('.fall-event-item[data-date]');
                
                eventItems.forEach(function(eventItem) {
                    const eventDateStr = eventItem.getAttribute('data-date');
                    const eventDate = new Date(eventDateStr);
                    eventDate.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison
                    
                    // Hide events that are before today
                    if (eventDate < today) {
                        eventItem.style.display = 'none';
                    }
                });
                
                // Check if any events are visible after filtering
                const visibleEvents = document.querySelectorAll('.fall-event-item[data-date]:not([style*="display: none"])');
                
                // If no events are visible, show a message
                if (visibleEvents.length === 0) {
                    const eventsList = document.querySelector('.fall-events-list');
                    const noEventsMessage = document.createElement('div');
                    noEventsMessage.className = 'no-events-message';
                    noEventsMessage.innerHTML = '<p style="text-align: center; color: #666; font-style: italic; padding: 40px;">No upcoming events scheduled. Check back soon!</p>';
                    eventsList.appendChild(noEventsMessage);
                }
            });
        </script>
    </body>
</html>
