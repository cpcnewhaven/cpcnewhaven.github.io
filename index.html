<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CPC New Haven Church - 135 Whitney Ave New Haven, CT. We are a church committed to serving and reaching the Greater New Haven area. Join us for worship and fellowship.">
    <meta name="keywords" content="CPC New Haven, Church, New Haven, CT, Worship, Fellowship">
    <meta name="author" content="CPC New Haven">
    <title>CPC New Haven Church</title>


  
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;700&display=swap" rel="stylesheet">
    <!-- SWITCH AND PULL EVERYTHING FROM THE INDEX CSS FILE -->

    <link rel="stylesheet" href="homepage.css">
  </head>

<body>
<div class="top-nav-bar">
    <nav>
         <ul class="top-nav">
            <li><a href="#savethedate">Announcements</a></li>
            <li><a href="./podcasts/index.html">Podcasts</a></li>
            <li><a href="#upcomingWorship">Upcoming Worship</a></li>
            <li><a href="./lifegroups/index.html">Life Groups</a></li>
            <li><a href="./connect/index.html">Connect</a></li>
            <li><a href="live.html">LiveStream</a></li>
            <li><a href="./yearbook/index.html">Yearbook</a></li>
        </ul>
    </nav>
  
</div>
<!-- END OF TOP NAV BAR-->

<!-- FIRST HOME SCREEN -->
<div class="home-screen">
  <a href="#"><img src="CPC LOGO.png"></a>
  <div class="subHeader-wrap">
  <h3>135 Whitney Ave - New Haven, CT </h3>
  <h3>Sunday Worship 10:30am</h3> 
</div>
 


<p class="monotype-font">This website is in Beta - to use the old website visit <a href="https://cpcnewhaven.org" style="color: white;">here</a></p>

</div>


<!-- TIME SECTION -->
<section class="timeDisplayWidget">
<div class="time" id="timeDisplay"></div>
<div class="date" id="dateDisplay"></div>
</section>



</section>



<section class="weekly-preview-container" id="upcomingWorship">
  <!-- Content will be dynamically inserted here -->
</section>

<style>
  .announcement-item h1 {
    line-height: 85%;
    padding:10px;
  }
  .announcement-item h3 {
    line-height: 25%;
    text-align:center;
    padding:10px;
    color:white;

  }
</style>

<section class="announcement-preview-container" id="announcements">

<div class="announcement-item">
<h1>FALL WORK DAY AND CHRISTMAS DECOR SET UP</h1>
<h2> DEC. 2 : 9a-12noon </h2>

<p>
  Lets join together as the family of God to take care of our grounds and facilities, both inside and
  out. This is a (surprisingly fun!) way to gather together to rake, clean, and organize around our
  building. Please join if you can.
  </p>
</div>


<div class="announcement-item">
  <h1>HILL CHRISTMAS STORE</h1>
  <h2>Donate by Dec. 3 </h2>
  <p>
    Please join us in sharing our 11th year of Christmas joy with some wonderful
    families from New Haven’s Hill community. Take an ornament from the Christmas tree in the
    CPC foyer and return it with an unwrapped gift valued at $15 or more for a child in the
    designated category (e.g., “Girl, 9-14”). In the spirit of empowerment, your gift will in turn be
    bought at a very reduced price by families in the Hill at the store on December 9.
    </p>
  </div>
  

  <div class="announcement-item">
    <h1>LESSONS & CAROLS</h1>
    <h2> DEC. 8 @6pm </h2>
    <p>
      Save the Date for our annual service as we anticipate and celebrate the coming of Christ. This is
      a great service for inviting friends and neighbors! After our service of readings and worship
      songs, there will be a reception in the fellowship hall.
      </p>
    </div>

    <div class="announcement-item">
      <h1>YOU’VE GOT MAIL</h1>
      <h2>Please mail it by Dec. 3. </h2>
      <p>
        Let’s encourage our covenant college kids! One significant way we at CPC can accomplish this is
        by sending them letters of encouragement. College years are formative years and as their
        church family we have a great opportunity to help them along in their journey into adulthood. If
        anyone would like to write a letter to our college students, please contact Jerry Ornelas at
        jerry.ornelas@cpcnewhaven.org. He will connect you with a student. Please mail it by Dec. 3.
        </p>
      </div>



</section>

<!-- NEW WELCOME PART 2 -->
<!-- CSS OF WELCOME -->

<!-- HTML OF WELCOME-->

<section class="fun-slide-preview">
This is a 100% - 100vh - section - for the sake of dev 
</section>

<h2>
    Experimental Features and In Progress
</h2>
<nav>

    <ul style="padding:20px;">
        <li>
            <a href="masterForm.html">Master Form</a>
        </li>
        <li>
            <a href="index-newNav.html">index New Nav</a>
        </li>
        <li>
            <a href="yearbook.html">yearbook</a>
        </li>
        <li>
          <a href="./updates.html">Development Updates</a>
        </li>
    </ul>
</nav>









<!-- SCRIPT = POPULATE -->
<script>

    async function loadWeeklyPreview() {
      const response = await fetch('./data/weeklypreview.json');
      const jsonData = await response.json();

      const container = document.getElementById('upcomingWorship');

      jsonData.weeklyPreview.forEach(item => {
        const div = document.createElement('div');
        div.id = item.id;
        div.classList.add('weekly-preview-item');

        const h2 = document.createElement('h2');
        h2.innerText = item.title;
        div.appendChild(h2);

        if (item.type === 'list') {
          const ul = document.createElement('ul');
          item.content.forEach(liText => {
            const li = document.createElement('li');
            li.innerText = liText;
            ul.appendChild(li);
          });
          div.appendChild(ul);
        }

        if (item.type === 'paragraph') {
          const p = document.createElement('p');
          p.innerText = item.content;
          item.links.forEach(link => {
            const a = document.createElement('a');
            a.innerText = link.text;
            a.href = link.url;
            p.appendChild(a);
          });
          div.appendChild(p);
        }

        if (item.type === 'table') {
  const table = document.createElement('table');
  table.classList.add('compact-table');

  item.rows.forEach(row => {
    const tr = document.createElement('tr');

    const tdLeft = document.createElement('td');
    tdLeft.innerText = row.left;
    tr.appendChild(tdLeft);

    const tdRight = document.createElement('td');
    tdRight.innerText = row.right;
    tr.appendChild(tdRight);

    table.appendChild(tr);
  });

  div.appendChild(table);
}
        container.appendChild(div);
      });
    }

    window.addEventListener('DOMContentLoaded', (event) => {
      loadWeeklyPreview();
    });
 
</script>


<!-- BACKGROUND SCRIPT IMAGES -->


<script>
  window.onload = function() {
    var body = document.getElementsByTagName('body')[0];
    var img = document.createElement('img');
    img.id = 'backgroundImage';
    body.appendChild(img);

    var overlay = document.createElement('div');
    overlay.style.position = 'fixed';
    overlay.style.top = '0';
    overlay.style.left = '0';
    overlay.style.width = '100%';
    overlay.style.height = '100%';
    overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.26)';
    overlay.style.zIndex = '-1';
    body.appendChild(overlay);

    // Function to change the image
    function changeImage() {
      var imageNumber = Math.floor(Math.random() * 10) + 1;
      img.src = 'websiteBG/' + imageNumber + '.png';
      img.style.opacity = '0';
      setTimeout(function() {
        img.style.opacity = '1';
      }, 100);
    }

    // Change the image immediately on page load
    changeImage();

    // Then change the image every 12 seconds
    setInterval(changeImage, 12000);
  };
</script>


<script src="scripts.js" defer></script>
<script src="events.js" defer></script>
</body>
</html>
