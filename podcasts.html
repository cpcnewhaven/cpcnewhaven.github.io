<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TL0WH5R1EK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TL0WH5R1EK');
</script>
        <!-- Hotjar Tracking Code for https://cpcnewhaven.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:5126213,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description"
            content="CPC New Haven Church - 135 Whitney Ave New Haven, CT. We are a church committed to serving and reaching the Greater New Haven area. Join us for worship and fellowship.">
        <meta name="keywords"
            content="CPC New Haven, Church, New Haven, CT, Worship, Fellowship">
        <meta name="author" content="CPC New Haven">
        <title>Live - CPC New Haven Church</title>
        <link rel="stylesheet" href="./src/css/global-body.css">
        <link rel="stylesheet" href="./src/css/global-footer-cta.css">
        <link rel="stylesheet" href="./src/css/footer.css">
        <link rel="icon"
            href="https://storage.googleapis.com/cpc-public-website/web-assets/CPC%20-%20FAVICON%20-%20FALL%202024.png"
            type="image/png">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
       <style>

       </style>
    </head>
    <body>

        <header id="stickyHeader" class="sticky">
            <nav class="main-navigation">
                <a href="index.html">Home</a>
                <a href="sundays.html">Sundays</a>
                <a href="about.html">About</a>
                <a href="podcasts.html">Podcasts</a>
                <a href="events.html">Events</a>
                <a href="announcements.html">Announcements</a>
                <a href="community.html">Community</a>
                <a href="live.html">Live</a>
                <a href="resources.html">Resources</a>
                <a href="give.html">Give</a>

            </nav>
        </header>

        <!-- MOBILE HAMBURGER-->
        <div class="hamburger-menu-button-container" id="hamburgerMenu">
            <i id="closeMobileMenuButton" class="fas fa-bars"></i>
        </div>

        <!-- Mobile Navigation -->
        <nav class="mobile-navigation" id="mobileNavigation">
            <div class="mobile-nav-header">
                <button id="closeMenuButton" aria-label="Close menu">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <ul class="mobile-nav-links">
                <li><a class="mobile-menu-link" href="index.html">Home</a></li>
                <li><a class="mobile-menu-link"
                        href="sundays.html">Sundays</a></li>
                <li><a class="mobile-menu-link" href="about.html">About</a></li>
                <li><a class="mobile-menu-link"
                        href="podcasts.html">Podcasts</a></li>
                <li><a class="mobile-menu-link"
                        href="events.html">Events</a></li>
                <li><a class="mobile-menu-link"
                        href="announcements.html">Announcements</a></li>
                <li><a class="mobile-menu-link"
                        href="community.html">Community</a></li>
                <li><a class="mobile-menu-link" href="live.html">Live</a></li>
                <li><a class="mobile-menu-link"
                        href="resources.html">Resources</a></li>
                <li><a class="mobile-menu-link" href="give.html">Give</a></li>
            </ul>
        </nav>

        <div class="top-splash-welcome">
            <h1>Podcasts</h1>
        </div>
        <div
        style="background-color: rgb(255, 251, 0); width: 100%; padding: 10px; text-align: center;">
        <p><span style="font-weight: bold;">Warning:</span> This feature is in beta mode and may not work as expected -
            to view the old podcast website please visit <a
                href="https://podcasts.cpcnewhaven.org"
                style="text-decoration: underline;">here</a></p>
    </div>
        <div class="dashboard-container">
            <!-- Sidebar -->
            <div class="sidebar fixed-sidebar">
                <img src="./assets/CPC_LOGO_24.png" class="sidebar-logo">
                <h1>Podcasts</h1>

                <h2>Table of Contents</h2>
                <ul>
                    <li><a href="#podcast-sunday-sermon">The Sunday
                            Sermon</a></li>
                    <li><a href="#podcast-beyond">Beyond</a></li>
                    <li><a href="#podcast-adult-study">Adult Sunday
                            Studies</a></li>
                   
                </ul>
                <hr>
                <!-- <div class="search-container"
                    style="max-width: 200px; margin:0 auto;">
                    <input type="text" id="podcastSearchInput"
                        placeholder="Search podcasts...">
                    <div id="searchResults"></div>
                </div> -->


            </div>

            <!-- Main Content -->
            <div class="main-content">


                <img src="./assets/websiteBG-podcasts/1.jpg"
                    style="width: 100%; height: auto;">

      
                <section id="podcast-sunday-sermon" class="inner-page-section"
                    style="margin-top:20px;">
                    <h1>The Sunday Sermon</h1>
                  
                    <table id="sunday-sermon-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Title</th>
                                <th>Speaker</th>
                                <th>Scripture</th>
                                <th>Listen</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Table content will be dynamically populated here -->
                        </tbody>
                    </table>
                </section>

                <section id="podcast-beyond" class="inner-page-section" style="margin-top:20px;">
                    <h1>Beyond</h1>
                 
                    <table id="beyond-sermon-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Title</th>
                                <th>Guest</th>
                                <th>Listen</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Table content will be dynamically populated here -->
                        </tbody>
                    </table>
                </section>

                <section id="podcast-adult-study" class="inner-page-section" style="margin-top:20px;">
                    <h1>Adult Sunday Studies</h1>
                    <h3>Walking with Jesus Thru Sinai</h3>
                    <caption class="center-text">Join live recording on Sundays at 9:30am. New Episodes Dropped Every Friday.</caption>
                 <br>
           <table id="walking-podcast-table">
            <thead>
                <tr>
                    <th>Number</th>
                    <th>Title</th>
                    <th>Listen</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table content will be dynamically populated here -->
            </tbody>
           </table>
           <hr><br>
           <h3>What We Believe</h3>
                    <table id="wwb-sermon-table">
                        <thead>
                            <tr>
                                <th>Number</th>
                                <th>Title</th>
                                <th>Listen</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Table content will be dynamically populated here -->
                        </tbody>
                    </table>
                    
                </section>

           
           

            </div>
        </div>
        <section>
            <div class="center-content">
                <h2>Subscribe</h2>
                <div class="subscribe-icons-a">
                    <a
                        href="https://open.spotify.com/show/22kjUJyC0VH3cMfCSe9kEk?si=843112804a664618"
                        target="_blank"><i
                            class="fab fa-spotify"></i></a>
                    <a href="your_apple_podcasts_link" target="_blank"><i
                            class="fab fa-apple"></i></a>
                    <a href="https://www.youtube.com/@CPCNewHaven"
                        target="_blank"><i
                            class="fab fa-youtube"></i></a>
                </div></div>
        </section>
        <div id="footer-cta-a" class="styled-section-a">
            <div class="form-container">
                <h2>Subscribe to our Newsletter</h2>
                <p class="body-text">Stay Connected with the Latest and Greatest
                    from
                    CPC New Haven</p>
                <form action="https://formspree.io/f/meojowwg" method="POST"
                    class="neumorphic-form">
                    <input type="text" name="name" placeholder="Your name"
                        required>
                    <!-- Added name input -->
                    <input type="email" name="email" placeholder="Your email"
                        required>
                    <button type="submit">Subscribe to CPC New Haven</button>
                </form>
            </div>
        </div>
    </div>
    <footer>
        <a id="fixedlink" 
            href="index.html">135 Whitney Ave - New Haven, CT | Sunday Worship
            10:30am </a>
    </footer>
        <!-- <script>
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('podcastSearchInput');
    const searchResults = document.getElementById('searchResults');
    const sundaySermonSection = document.getElementById('podcast-sunday-sermon');
    let allPodcasts = [];

    // Fetch all podcast data
    Promise.all([
        fetch('data/podcast/total-podcast.json').then(response => response.json()),
        fetch('data/podcast/preAprilPodcast.csv').then(response => response.text()),
        fetch('data/podcast/podcast-sunday-sermon.json').then(response => response.json()) // Fetch Sunday Sermon JSON
    ])
    .then(([totalPodcastData, preAprilPodcastCSV, sundaySermonData]) => {
        allPodcasts = totalPodcastData;
        
        // Parse CSV data
        Papa.parse(preAprilPodcastCSV, {
            header: true,
            complete: function(results) {
                allPodcasts = allPodcasts.concat(results.data.map(episode => ({
                    title: episode.Name,
                    dateReleased: episode['Date Released'],
                    bibleReference: episode['Bible Reference'],
                    episodeLink: episode['Episode Link'],
                    artwork: episode.Cover
                })));
                
                // Set up search functionality
                searchInput.addEventListener('input', performSearch);
            }
        });

        // Display Sunday Sermon episodes
        displaySundaySermonEpisodes(sundaySermonData);
    })
    .catch(error => console.error('Error loading podcast data:', error));

    function performSearch() {
        const query = searchInput.value.toLowerCase();
        const results = allPodcasts.filter(podcast => 
            podcast.title.toLowerCase().includes(query) ||
            podcast.bibleReference.toLowerCase().includes(query)
        );

        displayResults(results);
    }

    function displayResults(results) {
        searchResults.innerHTML = '';
        results.slice(0, 5).forEach(podcast => {
            const resultElement = document.createElement('div');
            resultElement.classList.add('search-result');
            resultElement.innerHTML = `
                <strong>${podcast.title}</strong><br>
                ${podcast.dateReleased} - ${podcast.bibleReference}
            `;
            resultElement.addEventListener('click', () => {
                window.open(podcast.episodeLink, '_blank');
            });
            searchResults.appendChild(resultElement);
        });
    }

    function displaySundaySermonEpisodes(episodes) {
        episodes.forEach(episode => {
            const iframe = document.createElement('iframe');
            iframe.style.borderRadius = '12px';
            iframe.src = episode.link;
            iframe.width = '100%';
            iframe.height = '352';
            iframe.frameBorder = '0';
            iframe.allowFullscreen = true;
            iframe.allow = 'autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture';
            iframe.loading = 'lazy';
            sundaySermonSection.appendChild(iframe);
            sundaySermonSection.appendChild(document.createElement('br'));
        });
    }
});
</script> -->

        <!-- <script>
document.addEventListener("DOMContentLoaded", function() {
    const splashImageSection = document.getElementById('home-image');
    const midImageSection = document.getElementById('mid-image');
    const totalImages = 14; // Total number of images in the folder
    
    // Generate two unique random indices
    let randomIndices = [];
    while (randomIndices.length < 2) {
        let randomIndex = Math.floor(Math.random() * totalImages) + 1;
        if (!randomIndices.includes(randomIndex)) {
            randomIndices.push(randomIndex);
        }
    }

    const homeImageUrl = `./assets/websiteBG-podcasts/${randomIndices[0]}.png`;
    const midImageUrl = `./assets/websiteBG-podcasts/${randomIndices[1]}.png`;

    // Fetch and set the background image for home-image
    fetch(homeImageUrl)
        .then(response => {
            if (response.ok) {
                splashImageSection.style.backgroundImage = `url(${homeImageUrl})`;
            } else {
                console.error('Image not found:', homeImageUrl);
            }
        })
        .catch(error => {
            console.error('Error fetching the image:', error);
        });

    // Fetch and set the background image for mid-image
    fetch(midImageUrl)
        .then(response => {
            if (response.ok) {
                midImageSection.style.backgroundImage = `url(${midImageUrl})`;
            } else {
                console.error('Image not found:', midImageUrl);
            }
        })
        .catch(error => {
            console.error('Error fetching the image:', error);
        });
});
</script> -->

        <!-- script>
/*
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('podcastSearchInput');
    const searchResults = document.getElementById('searchResults');

    searchInput.addEventListener('input', function() {
        const searchTerm = searchInput.value.toLowerCase();
        const podcastSections = document.querySelectorAll('.inner-page-section');
        let results = [];

        podcastSections.forEach(section => {
            const sectionTitle = section.querySelector('h2').textContent.toLowerCase();
            const episodes = section.querySelectorAll('iframe');

            episodes.forEach(episode => {
                const episodeTitle = episode.getAttribute('src').split('/').pop().split('?')[0];
                if (episodeTitle.includes(searchTerm)) {
                    results.push({ title: episodeTitle, link: episode.getAttribute('src') });
                }
            });
        });

        displaySearchResults(results);
    });

    function displaySearchResults(results) {
        searchResults.innerHTML = '';

        if (results.length > 0) {
            searchResults.style.display = 'block';
            results.forEach(result => {
                const resultItem = document.createElement('div');
                resultItem.classList.add('search-result-item');
                resultItem.innerHTML = `<a href="${result.link}" target="_blank">${result.title}</a>`;
                searchResults.appendChild(resultItem);
            });
        } else {
            searchResults.style.display = 'none';
        }
    }
});
*/
</script -->
        <script src="./src/js/function_toggle_mobileMenu.js"></script>
        <!-- <script src="./src/js/fetch-podcast-adult.js"></script> -->
        <script src="./src/js/podcast-fetch-sunday.js"></script>
    </body>
</html>